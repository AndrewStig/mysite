# Документ для защиты
## Веб-сайт по датчику температуры и влажности P8641

**Автор:** Герасимов Владислав  
**Группа:** 9ПС-11  
**Дисциплина:** Web-интерфейсы измерительных систем

---

## 1. Что сделано

Разработан многостраничный веб-сайт по теме датчика температуры и влажности **P8641**.

Сайт включает:
- информационные страницы по устройству, настройке и протоколам;
- интерактивные страницы с графиками и управлением измерениями;
- серверную обработку данных (PHP + MySQL);
- адаптивный интерфейс и отдельные CSS/JS-файлы.

---

## 2. Соответствие требованиям

### 2.1 Тема и содержательная часть
- Тема сайта: **датчик температуры и влажности P8641**.
- Реализована имитация цикла работы с данными:
  - получение;
  - обработка;
  - накопление;
  - отображение.

### 2.2 Количество страниц
- В каталоге `pages/` реализовано **30+ страниц**.
- Есть главная страница и страница автора.

### 2.3 Оформление и адаптивность
- Все стили вынесены в отдельный файл: `css/styles.css`.
- Используются media queries для мобильных устройств.
- На проверенных страницах нет горизонтальной прокрутки при ширине 1024px и ниже.

### 2.4 Программная часть
- PHP-компоновка через `index.php` + `includes/header.php` + `includes/footer.php`.
- JavaScript вынесен в отдельные файлы:
  - `js/main.js`
  - `js/charts.js`
  - `js/data-management.js`
- Реализована работа с БД через API:
  - `api/get_measurements.php`
  - `api/add_measurement.php`
  - `api/delete_measurement.php`
  - `api/generate_random.php`

### 2.5 Прочие требования
- Есть favicon: `favicon.ico`.
- Lightbox применяется к изображениям (включая авто-подключение в `main.js`).
- Каталоги структурированы и дополнены `.htaccess`.
- Размер проекта соответствует ограничению (менее 5 МБ).

---

## 3. Архитектура проекта

```text
local_server/
├── api/                 # PHP API для работы с данными
├── config/              # Конфигурация БД
├── css/                 # Стили
├── database/            # SQL-скрипты
├── images/              # Изображения
├── includes/            # Общие части (header/footer)
├── js/                  # Скрипты
├── pages/               # Контентные страницы
├── index.php            # Роутинг
└── favicon.ico
```

### Принцип работы
1. `index.php` определяет страницу по `?page=`.
2. Подключаются `header`, выбранная страница, затем `footer`.
3. JS отправляет запросы в API.
4. API читает/пишет данные в MySQL и возвращает JSON.
5. На клиенте данные показываются в таблицах и графиках.

---

## 4. База данных

Используется таблица `p8641_measurements`:
- `id`
- `temperature` (°C)
- `humidity` (%RH)
- `measured_at`
- `created_at`

Скрипты:
- `database/create_table_local.sql`
- `database/create_table.sql`

Локальная конфигурация:
- `config/db_config_local.php`

---

## 5. Функциональность для демонстрации

На защите можно показать сценарий:
1. Открыть главную страницу.
2. Перейти в раздел управления данными.
3. Добавить измерение температуры и влажности.
4. Проверить появление записи в таблице.
5. Перейти в графики и увидеть отображение данных.
6. Сгенерировать случайные данные и обновить график.
7. Удалить запись и проверить, что она исчезла.

---

## 6. Технологии

- PHP
- MySQL / MariaDB
- PDO
- HTML5 / CSS3 / JavaScript
- Chart.js (локальная библиотека)

---

## 7. Краткие ответы на типовые вопросы

### Почему PHP-компоновка, а не статичные HTML?
Чтобы обеспечить единые header/footer и централизованный роутинг через один входной файл.

### Как обеспечена безопасность БД?
Используются подготовленные запросы (PDO), валидация входных данных и ограничения диапазонов.

### Почему данные корректно работают в UI?
Потому что клиент и API используют одну модель: `temperature` и `humidity`, а JSON-ответы обрабатываются в `charts.js` и `data-management.js`.

### Что с изображениями?
Изображения открываются через lightbox, что повышает удобство просмотра без перехода на отдельные страницы.

---

## 8. Итог

Проект соответствует теме и требованиям задания:
- рабочий веб-сайт по P8641;
- многостраничная структура;
- отдельные CSS/JS;
- PHP + MySQL + формы + API;
- адаптивность, lightbox, favicon, счетчик.

Сайт готов к демонстрации преподавателю по критерию работоспособности.
